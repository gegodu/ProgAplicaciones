<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>RegProducto.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;Lab01&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">lab01.Interfaces</a> &gt; <span class="el_source">RegProducto.java</span></div><h1>RegProducto.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package lab01.Interfaces;

import java.util.Map;
import java.util.HashMap;
import java.util.Iterator;
import javax.swing.JOptionPane;
import lab01.Clases.Cliente;
import lab01.Clases.DataCant_Individual;
import lab01.Clases.DataCliente;
import lab01.Clases.DataIndividual;
import lab01.Clases.DataProducto;
//import lab01.Clases.DataProducto_Stock;
import lab01.Handlers.Fabrica;

/**
 *
 * @author gonzalo
 */
public class RegProducto extends javax.swing.JInternalFrame {

    private ICtrlProducto CP;

<span class="fc" id="L28">    public RegProducto() {</span>
<span class="fc" id="L29">        initComponents();</span>
<span class="fc" id="L30">        Fabrica f = Fabrica.getInstance();</span>
<span class="fc" id="L31">        CP = f.getICtrlProducto();</span>
<span class="fc" id="L32">    }</span>

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="fc" id="L43">        btngProducto = new javax.swing.ButtonGroup();</span>
<span class="fc" id="L44">        jp1 = new javax.swing.JPanel();</span>
<span class="fc" id="L45">        lblNombre = new javax.swing.JLabel();</span>
<span class="fc" id="L46">        lblCantidad = new javax.swing.JLabel();</span>
<span class="fc" id="L47">        lblRest = new javax.swing.JLabel();</span>
<span class="fc" id="L48">        tbNombre = new javax.swing.JTextField();</span>
<span class="fc" id="L49">        tbDesc = new javax.swing.JTextField();</span>
<span class="fc" id="L50">        tbRest = new javax.swing.JTextField();</span>
<span class="fc" id="L51">        rbIndividual = new javax.swing.JRadioButton();</span>
<span class="fc" id="L52">        rbPromocional = new javax.swing.JRadioButton();</span>
<span class="fc" id="L53">        jp2 = new javax.swing.JPanel();</span>
<span class="fc" id="L54">        lblExaminar = new javax.swing.JLabel();</span>
<span class="fc" id="L55">        tbCantidad = new javax.swing.JTextField();</span>
<span class="fc" id="L56">        lblDesc1 = new javax.swing.JLabel();</span>
<span class="fc" id="L57">        btnNuevo = new javax.swing.JButton();</span>
<span class="fc" id="L58">        btnRegistro = new javax.swing.JButton();</span>
<span class="fc" id="L59">        btnCancel = new javax.swing.JButton();</span>

<span class="fc" id="L61">        setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Registro de producto&quot;));</span>
<span class="fc" id="L62">        setClosable(true);</span>
<span class="fc" id="L63">        setIconifiable(true);</span>
<span class="fc" id="L64">        setMaximizable(true);</span>
<span class="fc" id="L65">        setResizable(true);</span>
<span class="fc" id="L66">        setVisible(true);</span>

<span class="fc" id="L68">        jp1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Nuevo producto&quot;)));</span>

<span class="fc" id="L70">        lblNombre.setText(&quot;Nombre del producto: &quot;);</span>

<span class="fc" id="L72">        lblCantidad.setText(&quot;Cantidad: &quot;);</span>

<span class="fc" id="L74">        lblRest.setText(&quot;Restaurante: &quot;);</span>

<span class="fc" id="L76">        tbNombre.setEnabled(false);</span>

<span class="fc" id="L78">        tbDesc.setEnabled(false);</span>

<span class="fc" id="L80">        tbRest.setEnabled(false);</span>

<span class="fc" id="L82">        btngProducto.add(rbIndividual);</span>
<span class="fc" id="L83">        rbIndividual.setText(&quot;Individual&quot;);</span>
<span class="fc" id="L84">        rbIndividual.setEnabled(false);</span>
<span class="fc" id="L85">        rbIndividual.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L87">                rbIndividualActionPerformed(evt);</span>
<span class="nc" id="L88">            }</span>
        });

<span class="fc" id="L91">        btngProducto.add(rbPromocional);</span>
<span class="fc" id="L92">        rbPromocional.setText(&quot;Promocional&quot;);</span>
<span class="fc" id="L93">        rbPromocional.setEnabled(false);</span>
<span class="fc" id="L94">        rbPromocional.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L96">                rbPromocionalActionPerformed(evt);</span>
<span class="nc" id="L97">            }</span>
        });

<span class="fc" id="L100">        jp2.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Cargar Imagen&quot;));</span>

<span class="fc" id="L102">        lblExaminar.setText(&quot;Examinar: &quot;);</span>

<span class="fc" id="L104">        javax.swing.GroupLayout jp2Layout = new javax.swing.GroupLayout(jp2);</span>
<span class="fc" id="L105">        jp2.setLayout(jp2Layout);</span>
<span class="fc" id="L106">        jp2Layout.setHorizontalGroup(</span>
            jp2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jp2Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addComponent(lblExaminar)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
<span class="fc" id="L113">        jp2Layout.setVerticalGroup(</span>
            jp2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jp2Layout.createSequentialGroup()
                .addGap(44, 44, 44)
                .addComponent(lblExaminar)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

<span class="fc" id="L121">        tbCantidad.setEnabled(false);</span>

<span class="fc" id="L123">        lblDesc1.setText(&quot;Descripci√≥n: &quot;);</span>

<span class="fc" id="L125">        javax.swing.GroupLayout jp1Layout = new javax.swing.GroupLayout(jp1);</span>
<span class="fc" id="L126">        jp1.setLayout(jp1Layout);</span>
<span class="fc" id="L127">        jp1Layout.setHorizontalGroup(</span>
            jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jp1Layout.createSequentialGroup()
                .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jp1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jp2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jp1Layout.createSequentialGroup()
                        .addGap(38, 38, 38)
                        .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblNombre)
                            .addComponent(lblRest)
                            .addComponent(lblDesc1)
                            .addComponent(lblCantidad))
                        .addGap(18, 18, 18)
                        .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(tbCantidad, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addGroup(jp1Layout.createSequentialGroup()
                                    .addComponent(rbIndividual)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(rbPromocional))
                                .addComponent(tbNombre)
                                .addComponent(tbDesc)
                                .addComponent(tbRest)))
                        .addGap(0, 64, Short.MAX_VALUE)))
                .addContainerGap())
        );
<span class="fc" id="L155">        jp1Layout.setVerticalGroup(</span>
            jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jp1Layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblNombre)
                    .addComponent(tbNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tbDesc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblDesc1))
                .addGap(18, 18, 18)
                .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rbIndividual)
                    .addComponent(rbPromocional))
                .addGap(18, 18, 18)
                .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tbCantidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblCantidad))
                .addGap(28, 28, 28)
                .addGroup(jp1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblRest)
                    .addComponent(tbRest, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jp2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

<span class="fc" id="L183">        btnNuevo.setText(&quot;Nuevo&quot;);</span>
<span class="fc" id="L184">        btnNuevo.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L186">                btnNuevoActionPerformed(evt);</span>
<span class="nc" id="L187">            }</span>
        });

<span class="fc" id="L190">        btnRegistro.setText(&quot;Registrar&quot;);</span>
<span class="fc" id="L191">        btnRegistro.setEnabled(false);</span>
<span class="fc" id="L192">        btnRegistro.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L194">                btnRegistroActionPerformed(evt);</span>
<span class="nc" id="L195">            }</span>
        });

<span class="fc" id="L198">        btnCancel.setText(&quot;Cancelar&quot;);</span>
<span class="fc" id="L199">        btnCancel.setEnabled(false);</span>

<span class="fc" id="L201">        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());</span>
<span class="fc" id="L202">        getContentPane().setLayout(layout);</span>
<span class="fc" id="L203">        layout.setHorizontalGroup(</span>
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jp1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(btnNuevo, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(62, 62, 62)
                        .addComponent(btnCancel, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
<span class="fc" id="L217">        layout.setVerticalGroup(</span>
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addComponent(jp1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 44, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnNuevo)
                    .addComponent(btnRegistro)
                    .addComponent(btnCancel))
                .addGap(32, 32, 32))
        );

<span class="fc" id="L230">        pack();</span>
<span class="fc" id="L231">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void btnNuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNuevoActionPerformed

<span class="nc" id="L235">        habilitarCampos();</span>

<span class="nc" id="L237">    }//GEN-LAST:event_btnNuevoActionPerformed</span>

    private void btnRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRegistroActionPerformed
<span class="nc" id="L240">        boolean Promocional = false;</span>
        String p;
        double precio;
        int cantidad;
        

<span class="nc bnc" id="L246" title="All 2 branches missed.">        if (evt.getSource() == btnRegistro) {</span>
<span class="nc bnc" id="L247" title="All 2 branches missed.">            if (CP.existeRestaurante(tbRest.getText())) { // si el restaurante se encuentra registrado</span>
<span class="nc bnc" id="L248" title="All 2 branches missed.">                if (rbIndividual.isSelected()) { // si quiero registar producto individual</span>
<span class="nc" id="L249">                    p = JOptionPane.showInputDialog(null, &quot;Ingrese el precio&quot;, &quot;Ingreso de precio&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L250">                    precio = Double.parseDouble(p);    // ingreso el precio                </span>
<span class="nc" id="L251">                    cantidad = Integer.parseInt(tbCantidad.getText()); // me guardo la cantidad de productos para ese producto particular</span>
<span class="nc" id="L252">                    DataIndividual di = new DataIndividual(tbNombre.getText(), tbDesc.getText(), precio, cantidad); // me guardo los datos en el dataproducto</span>
                    
                   
<span class="nc" id="L255">                    CP.registrarProducto(di, tbRest.getText(), Promocional); // registro producto</span>
<span class="nc" id="L256">                    JOptionPane.showMessageDialog(null, &quot;Producto registrado con exito&quot;, &quot;Aviso&quot;, JOptionPane.INFORMATION_MESSAGE);</span>

<span class="nc" id="L258">                } else { // si es promocional</span>
<span class="nc bnc" id="L259" title="All 2 branches missed.">                    if (rbPromocional.isSelected()) {</span>
<span class="nc" id="L260">                        Iterator it = CP.listarIndividuales(tbRest.getText()).entrySet().iterator();</span>

<span class="nc bnc" id="L262" title="All 2 branches missed.">                        while (it.hasNext()) {</span>
<span class="nc" id="L263">                            Map.Entry map = (Map.Entry) it.next();</span>
                            
<span class="nc" id="L265">                            DataIndividual di = (DataIndividual) map.getValue();</span>
<span class="nc" id="L266">                            JOptionPane.showMessageDialog(null, &quot;Nombre: &quot; + di.getDataNombre() + &quot;cantidad:&quot;+  di.getCantidad(), &quot;aviso&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
                            
<span class="nc" id="L268">                        }</span>
                        
                        
<span class="nc" id="L271">                    }</span>

                }

            } else {
<span class="nc" id="L276">                JOptionPane.showMessageDialog(null, &quot;El restaurante &quot; + tbRest.getText() + &quot; no se encuentra registrado&quot;, &quot;Error&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
            }

        }


<span class="nc" id="L282">    }//GEN-LAST:event_btnRegistroActionPerformed</span>

    private void rbIndividualActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rbIndividualActionPerformed
<span class="nc" id="L285">        tbCantidad.setEnabled(true);</span>
<span class="nc" id="L286">    }//GEN-LAST:event_rbIndividualActionPerformed</span>

    private void rbPromocionalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rbPromocionalActionPerformed
<span class="nc" id="L289">        tbCantidad.setEnabled(false);</span>
        
<span class="nc" id="L291">    }//GEN-LAST:event_rbPromocionalActionPerformed</span>

    public void habilitarCampos() {
<span class="fc" id="L294">        tbNombre.setEnabled(true);</span>
<span class="fc" id="L295">        tbDesc.setEnabled(true);</span>
<span class="fc" id="L296">        tbRest.setEnabled(true);</span>
<span class="fc" id="L297">        rbIndividual.setEnabled(true);</span>
<span class="fc" id="L298">        rbPromocional.setEnabled(true);</span>
<span class="fc" id="L299">        btnRegistro.setEnabled(true);</span>
<span class="fc" id="L300">        btnCancel.setEnabled(true);</span>

<span class="fc" id="L302">    }</span>


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnCancel;
    private javax.swing.JButton btnNuevo;
    private javax.swing.JButton btnRegistro;
    private javax.swing.ButtonGroup btngProducto;
    private javax.swing.JPanel jp1;
    private javax.swing.JPanel jp2;
    private javax.swing.JLabel lblCantidad;
    private javax.swing.JLabel lblDesc1;
    private javax.swing.JLabel lblExaminar;
    private javax.swing.JLabel lblNombre;
    private javax.swing.JLabel lblRest;
    private javax.swing.JRadioButton rbIndividual;
    private javax.swing.JRadioButton rbPromocional;
    private javax.swing.JTextField tbCantidad;
    private javax.swing.JTextField tbDesc;
    private javax.swing.JTextField tbNombre;
    private javax.swing.JTextField tbRest;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>