<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>VerProducto.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;Lab01&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">lab01.Interfaces</a> &gt; <span class="el_source">VerProducto.java</span></div><h1>VerProducto.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package lab01.Interfaces;
import java.awt.Point;
import lab01.Clases.DataProducto;
import lab01.Clases.DataRestaurante;
import lab01.Handlers.Fabrica;
import java.util.Map;
import java.util.HashMap;
import java.util.Iterator;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import lab01.Clases.DataCliente;
import lab01.Clases.Producto;
import lab01.Interfaces.VerInfoProducto_old;
import lab01.Clases.Restaurante;


/**
 *
 * @author martin
 */
public class VerProducto extends javax.swing.JInternalFrame {

    /**
     * Creates new form VerProducto
     */
    ICtrlUsuario ICU;
<span class="nc" id="L33">    int fila = 0;</span>
<span class="nc" id="L34">    public VerProducto() {</span>
<span class="nc" id="L35">        initComponents();</span>
<span class="nc" id="L36">        Fabrica fabrica = Fabrica.getInstance();</span>
<span class="nc" id="L37">        ICU = fabrica.getICtrlUsuario();</span>
<span class="nc" id="L38">        modelo = (DefaultTableModel)jTabla.getModel();</span>
        
<span class="nc" id="L40">        cargarTabla();</span>
<span class="nc" id="L41">    }</span>
    DefaultTableModel modelo;
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L52">        jScrollPane1 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L53">        jTabla = new javax.swing.JTable();</span>

<span class="nc" id="L55">        setClosable(true);</span>
<span class="nc" id="L56">        setIconifiable(true);</span>
<span class="nc" id="L57">        setMaximizable(true);</span>
<span class="nc" id="L58">        setResizable(true);</span>

<span class="nc" id="L60">        jTabla.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {
                {&quot;&quot;, &quot;&quot;},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null}
            },
            new String [] {
                &quot;Producto&quot;, &quot;Restaurante&quot;
            }
<span class="nc" id="L84">        ) {</span>
<span class="nc" id="L85">            Class[] types = new Class [] {</span>
                java.lang.String.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
<span class="nc" id="L90">                return types [columnIndex];</span>
            }
        });
<span class="nc" id="L93">        jTabla.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L95">                jTablaMousePressed(evt);</span>
<span class="nc" id="L96">            }</span>
        });
<span class="nc" id="L98">        jScrollPane1.setViewportView(jTabla);</span>

<span class="nc" id="L100">        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());</span>
<span class="nc" id="L101">        getContentPane().setLayout(layout);</span>
<span class="nc" id="L102">        layout.setHorizontalGroup(</span>
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 235, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(31, Short.MAX_VALUE))
        );
<span class="nc" id="L109">        layout.setVerticalGroup(</span>
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 341, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(28, Short.MAX_VALUE))
        );

<span class="nc" id="L117">        pack();</span>
<span class="nc" id="L118">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void jTablaMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTablaMousePressed
        // TODO add your handling code here:
<span class="nc" id="L122">        String nick = null;</span>
<span class="nc" id="L123">        String nomProd = null;</span>
        DataRestaurante dr;
<span class="nc" id="L125">        Restaurante res= null;</span>
<span class="nc" id="L126">        Producto prod = null;</span>
<span class="nc" id="L127">        Map colProd = null;</span>
        DataProducto dp;
<span class="nc" id="L129">        JTable tab = (JTable)evt.getSource();</span>
<span class="nc" id="L130">        Point point = evt.getPoint();</span>
<span class="nc" id="L131">        int fila = tab.rowAtPoint(point);</span>
<span class="nc bnc" id="L132" title="All 2 branches missed.">        if(evt.getClickCount() == 1){</span>
<span class="nc" id="L133">            nomProd = jTabla.getValueAt(fila,0).toString();</span>
<span class="nc" id="L134">            nick = jTabla.getValueAt(fila, 1).toString();</span>
        }
        try{
<span class="nc" id="L137">            res = ICU.getRestauranteByNickname(nick);</span>
             
<span class="nc" id="L139">        }catch(Exception e){</span>
<span class="nc" id="L140">            JOptionPane.showMessageDialog(null, &quot;El restaurante no est√° en el sistema&quot;,&quot;Error&quot;,JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L141">        }</span>
        
<span class="nc" id="L143">        prod = res.getProducto(nomProd);</span>
        //dp = prod.ProductoADP();
        
<span class="nc" id="L146">        VerInfoProd verinfop = new VerInfoProd(prod);</span>
<span class="nc" id="L147">        verinfop.setVisible(true);</span>
        
        
        
        
<span class="nc" id="L152">    }//GEN-LAST:event_jTablaMousePressed</span>
//
//      try {
//           int fila = jTabla.getSelectedRow();
//           String dato = jTabla.getModel().getValueAt(fila, 0).toString();
//           JOptionPane.showMessageDialog(null, dato);
//           
//           
//       }catch(Exception e){
//           JOptionPane.showMessageDialog(null, &quot;Error&quot; +e.getMessage());
//       }
    
     private void cargarTabla(){
<span class="nc" id="L165">        Map Datas = new HashMap(); </span>
<span class="nc" id="L166">        Datas = ICU.listaDataRestaurantes();</span>
<span class="nc" id="L167">        Iterator it = Datas.entrySet().iterator();</span>
<span class="nc" id="L168">        String lista[]=new String[2];</span>
<span class="nc bnc" id="L169" title="All 2 branches missed.">        while(it.hasNext()){</span>
<span class="nc" id="L170">            Map.Entry map = (Map.Entry) it.next();</span>
<span class="nc" id="L171">            DataRestaurante dr = (DataRestaurante) map.getValue();</span>
            //lista[0]=model.getSize()-1;
<span class="nc" id="L173">            lista[1]=dr.getNickname();</span>
<span class="nc" id="L174">            Map colProd = dr.getColProducto();</span>
<span class="nc" id="L175">            Iterator it2 = colProd.entrySet().iterator();</span>
<span class="nc bnc" id="L176" title="All 2 branches missed.">            while(it2.hasNext()){</span>
<span class="nc" id="L177">                Map.Entry mapcol = (Map.Entry) it2.next();</span>
<span class="nc" id="L178">                String nomProd = mapcol.getKey().toString();</span>
<span class="nc" id="L179">                lista[0]=nomProd;</span>
<span class="nc" id="L180">                modelo.insertRow((int)fila, lista);</span>
<span class="nc" id="L181">                fila++;</span>
                
<span class="nc" id="L183">            }</span>
                        
<span class="nc" id="L185">        }</span>
<span class="nc" id="L186">    }</span>
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTabla;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>